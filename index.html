<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kit Apag√£o ‚Äì MD Engenharia</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">

<style>
body {
  font-family: "Segoe UI", Arial, sans-serif;
  margin: 0;
  background-color: #ffffff;
  color: #222;
}
header {
  text-align: center;
  padding: 15px 0;
  border-bottom: 2px solid #00954f33;
}
header img {
  max-width: 150px;
  height: auto;
}
main {
  display: grid;
  grid-template-columns: 1fr 1.2fr 1fr;
  gap: 25px;
  padding: 25px 50px;
  align-items: start;
}
@media (max-width: 1100px) {
  main { grid-template-columns: 1fr; padding: 20px; }
}
.card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  padding: 20px;
}
h3 {
  color: #00954f;
  border-bottom: 2px solid #00954f33;
  padding-bottom: 6px;
}
label {
  font-weight: 500;
  display: block;
  margin-top: 8px;
}
input, select, button {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 15px;
}
button {
  background-color: #00954f;
  color: white;
  font-weight: bold;
  cursor: pointer;
  margin-top: 12px;
  transition: 0.3s;
}
button:hover { background-color: #007a44; }
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}
th, td {
  border-bottom: 1px solid #ddd;
  text-align: center;
  padding: 6px;
  font-size: 14px;
}
td button {
  background: none;
  border: none;
  color: #d9534f;
  font-size: 18px;
  cursor: pointer;
}
.result-card {
  background: #00954f;
  color: white;
  border-radius: 8px;
  padding: 15px;
  font-size: 15px;
  margin-bottom: 10px;
}
.valor {
  background: #f3f3f3;
  border-radius: 8px;
  padding: 12px;
  color: #111;
  font-size: 16px;
  font-weight: bold;
  text-align: center;
  border: 1px solid #ddd;
  margin-top: 25px;
}
.bar-container {
  width: 100%;
  height: 25px;
  background-color: #ddd;
  border-radius: 20px;
  overflow: hidden;
  margin-bottom: 10px;
}
.bar-fill {
  height: 100%;
  color: white;
  text-align: center;
  font-weight: bold;
  line-height: 25px;
  transition: width 0.6s ease;
  background: linear-gradient(90deg, #00b96d, #007a44);
}
.alert {
  background-color: #fff3cd;
  color: #856404;
  padding: 10px;
  border-radius: 6px;
  font-size: 14px;
  margin-top: 10px;
}
footer {
  text-align: center;
  font-size: 13px;
  color: #666;
  padding: 20px 0;
  border-top: 1px solid #eee;
}
.ficha {
  font-size: 12px;
  color: #555;
  margin-top: 8px;
  line-height: 1.4em;
}

/* üî¥ Popup de solu√ß√£o vantajosa */
.popup {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #ffe5e5;
  border: 1px solid #ff9999;
  color: #a00000;
  padding: 15px 20px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  font-size: 15px;
  width: 310px;
  z-index: 9999;
}
.popup b { color: #8b0000; }
.popup .close-btn {
  position: absolute;
  top: 8px;
  right: 10px;
  color: white;
  background: #d22;
  border: none;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>
<body>

<header>
  <img src="Logo.png" alt="MD Engenharia Logo">
</header>

<main>
  <!-- Consumo -->
  <div class="card">
    <h3>Consumo dos Equipamentos</h3>
    <label>Descri√ß√£o:</label>
    <input type="text" id="equip" placeholder="Ex: L√¢mpada">
    <label>Pot√™ncia (W):</label>
    <input type="number" id="potencia" placeholder="Ex: 100">
    <label>Quantidade:</label>
    <input type="number" id="quantidade" placeholder="Ex: 2">
    <label>Horas de uso por dia:</label>
    <input type="number" id="horas" placeholder="Ex: 6">
    <button onclick="addEquip()">Adicionar √† Lista</button>

    <h3 style="text-align:center;">Consumo total</h3>
    <h2 id="totalConsumo" style="text-align:center;color:#00954f;">0 Wh</h2>

    <table id="tabela">
      <thead>
        <tr><th>Equipamento</th><th>W</th><th>Qtd</th><th>h</th><th>Wh</th><th></th></tr>
      </thead><tbody></tbody>
    </table>
  </div>

  <!-- Dados -->
  <div class="card">
    <h3>Dados do Cliente</h3>
    <label>Nome do Cliente:</label>
    <input type="text" id="cliente" placeholder="Ex: Jo√£o Silva">
    <label>Estado:</label>
    <select id="estado" onchange="carregarCidades()"></select>
    <label>Cidade:</label>
    <select id="cidade"></select>

    <label>Esta√ß√£o de Recarga:</label>
    <select id="estacao">
      <option value="">Selecione</option>
      <option value="1152">BLUETTI AC180</option>
      <option value="768">BLUETTI AC70</option>
      <option value="448">BLUETTI AC50B</option>
      <option value="268">BLUETTI EB3A</option>
      <option value="204">BLUETTI AC2A</option>
      <option value="403">BLUETTI AC60</option>
      <option value="0">BLUETTI Charger 1</option>
    </select>

    <div id="fichaTecnica" class="ficha"></div>
    <button onclick="calcular()">Calcular Sistema</button>
  </div>

  <!-- Resultados -->
  <div class="card">
    <h3>Resultados</h3>
    <div class="result-card" id="resultado">Preencha os dados e clique em "Calcular Sistema".</div>
    <div class="bar-container"><div class="bar-fill" id="barFill" style="width:0%;">0%</div></div>
    <div class="alert" id="alerta" style="display:none;"></div>
    <div class="valor" id="valorTotal" style="display:none;"></div>
  </div>
</main>

<footer>¬© 2025 MD Engenharia</footer>

<script>
const cidadesPorEstado = {
  "SP":["S√£o Paulo","Campinas","Santos","Ribeir√£o Preto","Sorocaba"],
  "PR":["Curitiba","Londrina","Maring√°","Cascavel","Ponta Grossa"],
  "RJ":["Rio de Janeiro","Niter√≥i","Campos","Volta Redonda","Petr√≥polis"],
  "MG":["Belo Horizonte","Uberl√¢ndia","Juiz de Fora","Contagem","Betim"],
  "RS":["Porto Alegre","Caxias do Sul","Pelotas","Santa Maria","Novo Hamburgo"]
};
window.onload = () => {
  const estadoSelect = document.getElementById('estado');
  estadoSelect.innerHTML = '<option value="">Selecione</option>' + Object.keys(cidadesPorEstado).map(uf => `<option value="${uf}">${uf}</option>`).join('');
};

function carregarCidades(){
  const estado=document.getElementById('estado').value;
  const cidadeSelect=document.getElementById('cidade');
  cidadeSelect.innerHTML='<option value="">Selecione</option>';
  if(estado && cidadesPorEstado[estado]){
    cidadeSelect.innerHTML+=cidadesPorEstado[estado].map(c=>`<option>${c}</option>`).join('');
  }
}

const precos={ "AC180":5999,"AC70":4499,"AC50B":3399,"EB3A":2399,"AC2A":1999,"AC60":3999,"Charger 1":3999 };

const maoDeObra={
  "AC180":{base:800,extra:200},
  "AC70":{base:800,extra:180},
  "AC50B":{base:800,extra:160},
  "EB3A":{base:800,extra:150},
  "AC2A":{base:800,extra:140},
  "AC60":{base:800,extra:130},
  "Charger 1":{base:800,extra:100}
};

let equipamentos=[];
function addEquip(){
  const equip=document.getElementById('equip').value.trim();
  const potencia=parseFloat(document.getElementById('potencia').value);
  const qtd=parseFloat(document.getElementById('quantidade').value);
  const horas=parseFloat(document.getElementById('horas').value);
  if(!equip||!potencia||!qtd||!horas)return alert("Preencha todos os campos!");
  const consumo=potencia*qtd*horas;
  equipamentos.push({equip,potencia,qtd,horas,consumo});
  atualizarTabela();
  ['equip','potencia','quantidade','horas'].forEach(id=>document.getElementById(id).value='');
}
function atualizarTabela(){
  const tbody=document.querySelector('#tabela tbody');
  tbody.innerHTML="";
  let total=0;
  equipamentos.forEach((eq,i)=>{
    total+=eq.consumo;
    tbody.innerHTML+=`<tr><td>${eq.equip}</td><td>${eq.potencia}</td><td>${eq.qtd}</td><td>${eq.horas}</td><td>${eq.consumo.toFixed(1)}</td><td><button onclick="removerEquip(${i})">üóëÔ∏è</button></td></tr>`;
  });
  document.getElementById('totalConsumo').innerText=`${total.toFixed(1)} Wh`;
}
function removerEquip(i){equipamentos.splice(i,1);atualizarTabela();}

function calcular(){
  const total=equipamentos.reduce((a,b)=>a+b.consumo,0);
  const estacao=document.getElementById('estacao').selectedOptions[0].text;
  const cap=parseFloat(document.getElementById('estacao').value);
  if(cap<=0)return alert("Selecione uma esta√ß√£o v√°lida!");
  const energiaNec=total/0.85;
  const qtdNec=Math.ceil(energiaNec/cap);
  const modelo=estacao.split(" ")[1];
  const preco=precos[modelo]||0;
  const mao=maoDeObra[modelo]||{base:0,extra:0};
  const custoMao=qtdNec>1?mao.base+(qtdNec-1)*mao.extra:mao.base;
  const totalFinal=(preco*qtdNec)+custoMao;

  document.getElementById('resultado').innerHTML=`
  <b>Cliente:</b> ${document.getElementById('cliente').value||'-'}<br>
  <b>Local:</b> ${document.getElementById('cidade').value||'-'} - ${document.getElementById('estado').value||'-'}<br>
  <b>Consumo Total:</b> ${total.toFixed(1)} Wh/dia<br>
  <b>Efici√™ncia:</b> 85%<br>
  <b>Energia Necess√°ria:</b> ${energiaNec.toFixed(1)} Wh<br>
  <b>Esta√ß√£o Selecionada:</b> ${estacao}<br>
  <b>Quantidade Necess√°ria:</b> ${qtdNec} unidade(s)
  `;
  document.getElementById("valorTotal").style.display="block";
  document.getElementById("valorTotal").innerHTML=`üí∞ Valor Total Estimado do Or√ßamento: R$ ${totalFinal.toLocaleString('pt-BR',{minimumFractionDigits:2})}`;
  document.getElementById("barFill").style.width="95%";
  document.getElementById("barFill").innerText="95%";

  melhorOpcao(modelo,energiaNec,totalFinal);
}

function melhorOpcao(modeloAtual,energiaNec,valorAtual){
  let melhor={nome:modeloAtual,valor:valorAtual,qtd:0};
  for(const mod in precos){
    const cap={AC180:1152,AC70:768,AC50B:448,EB3A:268,AC2A:204,AC60:403,"Charger 1":560}[mod];
    const qtd=Math.ceil(energiaNec/cap);
    const mao=maoDeObra[mod];
    const custoMao=qtd>1?mao.base+(qtd-1)*mao.extra:mao.base;
    const total=(precos[mod]*qtd)+custoMao;
    if(total<melhor.valor)melhor={nome:mod,valor:total,qtd:qtd};
  }
  if(melhor.nome!==modeloAtual){
    const popup=document.createElement("div");
    popup.className="popup";
    popup.innerHTML=`<button class='close-btn' onclick="this.parentElement.remove()">√ó</button>
    ‚ö†Ô∏è <b>Solu√ß√£o mais vantajosa:</b> ${melhor.nome}<br>
    üì¶ ${melhor.qtd} unidade(s)<br>
    üí∞ Total: R$ ${melhor.valor.toLocaleString('pt-BR',{minimumFractionDigits:2})}`;
    document.body.appendChild(popup);
    setTimeout(()=>popup.remove(),9000);
  }
}
</script>
</body>
</html>




